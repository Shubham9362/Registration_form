<!DOCTYPE html>
<html lang="en">
    <head> 
		<meta name="viewport" content="width=device-width, initial-scale=1">


		<!-- Website CSS style -->
		<link href="css/bootstrap.min.css" rel="stylesheet">

		<!-- Website Font style -->
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
		<link rel="stylesheet" href="style1.css">
		<!-- Google Fonts -->
		<link href='https://fonts.googleapis.com/css?family=Passion+One' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>

		<title>Admin</title>
		<style type="text/css">
    table{
        width: 100%;
        margin: 20px 0;
        border-collapse: collapse;
    }
    table, th, td{
        border: 1px solid #cdcdcd;
    }
    table th, table td{
        padding: 5px;
        text-align: left;
    }
</style>
		
	 <script type="text/javascript" src="http://www.technicalkeeda.com/js/javascripts/plugin/jquery.js"></script>
    <script type="text/javascript" src="http://www.technicalkeeda.com/js/javascripts/plugin/jquery.validate.js"></script>
    
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>

	</head>
	

	<body>
		<div class="container">
			<div class="row main">
				<div class="main-login main-center">
				
					<form name="registrationform" id="registrationform" method="post" >
						<center><h2>SIGN UP</h2></center>
						<div class="form-group">
							<label for="name" class="cols-sm-2 control-label">Your Name</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"> </i></span>
									<input type="text" class="form-control" name="name" id="name"  placeholder="Enter your Name" required/>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label for="" class="cols-sm-2 control-label">Your Email</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
									<input type="text" class="form-control" name="email" id="email"  placeholder="Enter your Email" />
								</div>
							</div>
						</div>


						<div class="form-group">
							<label for="" class="cols-sm-2 control-label">gender</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-male" aria-hidden="true"></i></span>
									<label class="radio-inline">
									<pre>male    <input type="radio" class="" name="gen" id="gen1"  value="male"  checked="checked"></pre>
									</label>
                                     <label class="radio-inline">
									<pre>Female     <input type="radio" class="" name="gen"  id="gen2" value="female" ></pre>
                                     </label>
								</div>
							</div>
						</div>



                           <div class="form-group">
							<label for="" class="cols-sm-2 control-label">Id Proof</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-file" aria-hidden="true"></i></span>
									<label class="checkbox-inline">
								<pre>VoterId    <input type="checkbox"  name="id1" id="id1" value="voter_id" ></pre>
									
									</label>                                 
									    <label class="checkbox-inline">
									<pre>Adhar_Card   <input type="checkbox" name="id2" id="id2"  value="Adhar_card" ></pre>
									                                     </label>
								</div>
							</div>
						</div>


                       




					
					

						<div class="form-group">
							<label for="username" class="cols-sm-2 control-label">Username</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
									<input type="text" class="form-control" name="username" id="username"  placeholder="Enter your Username" required/>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label for="password" class="cols-sm-2 control-label">Password</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
									<input type="password" class="form-control" name="password" id="password"  placeholder="Enter your Password" required/>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label for="confirm" class="cols-sm-2 control-label">Confirm Password</label>
							<div class="cols-sm-10">
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
									<input type="password" class="form-control" name="confirmpassword" id="confirmpassword"  placeholder="Confirm your Password" required/>
								</div>
							</div>
						</div>

						<div class="form-group ">
							<button type="button" name="register" class="btn btn-primary btn-lg btn-block login-button" id="register">Register</button>
						</div>
		
                        <div class="form-group ">
                            <button type="button" name="submit1" class="btn btn-primary btn-lg btn-block login-button" id="submit1" style="display:none;">Submit Updates</button>
                        </div>
		
					</form>
			

	
	
			     </div>
			</div>
		</div>
<div class="container">


 <table id="tdata">
        <thead>
            <tr>
               
                <th>Name</th>
                <th>Email</th>
                <th>Gender</th>
                 <th>Id_Proof1</th>
                 <th>Id_Proof2</th>
                  <th>Username</th>
            </tr>
        </thead>
        <tbody>
</tbody>

</div>



		 


		 <script>

          
var a1;

var b1;

   function  checking()
   {


      //  var isChecked = $('#id1').attr('checked');
       // var isChecked1 = $('#id2').attr('checked');
        if (($('#id1').prop("checked") == true) && ( $('#id2').prop("checked") ==true)){
           // alert('check-box is checked');
        
        console.log('Proof: '+$('input[name="id1"]').val());
        console.log('Proof: '+$('input[name="id2"]').val());

         a1=$('input[name="id1"]').val();
         b1=$('input[name="id2"]').val();
        $("#val4").val(" "+a1+"   "+b1);
         //$("#val5").val(b);
    }
        else if(($('#id1').prop("checked") == true) && ($('#id2').prop("checked") == false)){

        	 a1=$('input[name="id1"]').val();
         b1=null;
        $("#val4").val(a1);
         console.log('Proof: '+$('input[name="id1"]').val());
        
}
             else if(($('#id1').prop("checked") == false) && ($('#id2').prop("checked") == true)){

             	a1=null;
         b1=$('input[name="id2"]').val();
        $("#val4").val(b1);
                 console.log('Proof: '+$('input[name="id2"]').val());

             }

             else{
                a1=null;
                b1=null;
            alert('check-box is not checked');
   }
    

}

/*function mailcheck()
{
//$('#btnValidate').click(function() {
        var sEmail = $('#email').val()
         var theEvent = evt || window.event;
        if ($.trim(sEmail).length == 0) {
            alert('Please enter valid email address');
            theEvent.preventDefault();
        }
        if (validateEmail(sEmail)) {
            alert('Email is valid');
        }
        else {
            alert('Invalid Email Address');
            theEvent.preventDefault();
        }
    }
*/

function validateEmail(sEmail) {



    //$("#validate").keyup(function(){

        var email1 = $("#email").val();

        if(email1 != 0)
        {
            if(isValidEmailAddress(email1))
            {
               // $("#validEmail").css({
                 //   "background-image": "url('validYes.png')"
             //   }
             validatePassword();
                //);
            } else {
            	alert('email not valid');
               // $("#validEmail").css({
                 //   "background-image": "url('validNo.png')"
                //});
            }
        } else {
            //$("#validEmail").css({
              //  "background-image": "none"
            //});         
        }

    //});

}
//);

function isValidEmailAddress(emailAddress) {
    var pattern = new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);
    return pattern.test(emailAddress);
}
   

   //$(document).ready(function(){
    //$("button").click(function(){
    	function inserting(){
    	var a=$('input[name="name"]').val();
        $("#val1").val(a);
        var b=$('input[name="email"]').val();
        $("#val2").val(b);
        var c=$('input[name="username"]').val();
        $("#val3").val(c);
        var d=$('input[name="gen"]:checked').val()
        $("#val4").val(d);

    }
   //var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
  




    $("#register").on("click",function(){
    		validateEmail();
    		
    //		validatePassword();
    		
    		
    	//	console.log('  Id_Proof: '+$('input[type=checkbox]').on('change', function() {
    //console.log($(this).val());
//}));

//$(document).ready(function()
//{
   
//});


    		//console.log('email: '+$('input[email="email"]').val());
    		 
    		 
    	
     });
	
    	
    	function validatePassword(){

    		 var validator = $("#registrationform").validate({
            rules: {

                password: "required",
                confirmpassword: {
                    equalTo: "#password"
                
                }
            },
            messages:{
                password: " Enter Password",
                confirmpassword: " Enter Confirm Password Same as Password"
            },

        } );
    		// mailcheck();
    		 
	        if (validator.form()) {
	        	//console.log('Name: '+$('input[name="name"]').val() +'   Email:   '+$('input[name="email"]').val()+'    Gender: '+$('input[name="gen"]:checked','#registrationform').val()+'      UserName:  '+$('input[name="username"]').val());
                 checking();
                   inserting();
	            alert('Success');
	            
	        }
	        else{
	        	//console.log("fail");
	        	alert('failed');
	        	
	        }
          }


//updatedata
//$('#tdata tr').each(function() {
  //  var customerId = $(this).find(tr).html();    
// });


//var press=$('click[name="pageupdate"]');
//var j;

var index;
//var boxes1;
//var boxes2;
//updaterow
  $(document).on('click', '.update', function () {
    var j;
var currentIndex = $(this).attr("id").split("update");
console.log(currentIndex[1]);
for(j=0;j<=i;j++)
{
    if(currentIndex[1] == j) {

      

    

var a11=a[j];

$("#register").hide();
   
        $("#submit1").show();
    
    $(this).closest('tr').remove();


  $("#name").val(a11);
  console.log(a11);      
        var b11=b[j]
          $("#email").val(b11);
        var c11=d[j];
          $("#username").val(c11);
        var d11=''; 
        d11=c[j];
    //  $("#gen").val(d11);
console.log("genc:"+d11);
var checkval;
checkval='male';
console.log("genc1:"+checkval);
 if(d11 === checkval)
 {
//$("#gen1").attr('checked', 'checked');
$("#gen1").prop("checked", true);
 }
else
{
//$("#gen2").attr('checked', 'checked');
$("#gen2").prop("checked", true);
}

      checking();
      var ch1;

      ch1=null;

    var ch2;
    ch2=null;
       ch1=acheckbox[j];
      ch2=bcheckbox[j];
console.log("p1:"+ch1+""+ch2);
    if((ch1 != null) && (ch2 != null)) 
    { // $(".check").clic(function(){
        $("#id1").prop("checked", true);
    
    //$(".uncheck").click(function(){
        $("#id2").prop("checked", true);
    }
    else if((ch1 != null)&& (ch2 == null))
    {
   $("#id1").prop("checked", true);
    
    //$(".uncheck").click(function(){
        $("#id2").prop("checked", false);

    }

    else if((ch1 == null)&& (ch2 != null))

{
   $("#id1").prop("checked", false);
    
    //$(".uncheck").click(function(){
            $("#id2").prop("checked", true);
}

else{
 $("#id1").prop("checked", false);
    
    //$(".uncheck").click(function(){
        $("#id2").prop("checked", false);

}




//console.log('Name: '+$('input[name="a11"]').val() +'   Email:   '+$('input[name="b11"]').val()+'    Gender: '+$('input[name="d11"]:checked','#registrationform').val()+'      UserName:  '+$('input[name="c11"]').val());

//boxes1=acheckbox[j];
//boxes2=bcheckbox[j];


index=j;



        
}
//console.log(j);
}

});



  



//submit updates(After submit button)
 $(document).on('click', '#submit1', function () {

$("#submit1").hide();
  $("#register").show();
  //$(this).closest('tr').remove();
           // var name = $("#name").val();
           a[index]=$('input[name="name"]').val();
        
        b[index]=$('input[name="email"]').val();
        
         c[index]=$('input[name="username"]').val();
        
         d[index]=$('input[name="gen"]:checked').val();
       checking();
       acheckbox[index]=a1;
      bcheckbox[index]=b1;
console.log("as:"+acheckbox[index]);
console.log("as:"+bcheckbox[index]);
       var btn="update"+index;
            var markup = "<tr><td>"+a[index]+"</td><td>" + b[index] + "</td><td>" + d[index] + "</td><td>"+acheckbox[index]+" </td><td>"+bcheckbox[index]+"</td><td>"+c[index]+"</td><td> <button type='button' name='pagedelete' id='pagedelete'>Delete Row</button> </td><td>"+"</td><td> <button type='button' name="+btn+" id="+btn+" class='update'>Edit Row</button></td></tr>";
            $("table tbody").append(markup);

   // console.log('Name: '+$('input[name="val1"]').val() +'   Email:   '+$('input[name="val2"]').val()+'    Gender: '+$('input[name="val3"]:checked','#registrationform').val()+'      UserName:  '+$('input[name="val5"]').val());

 
//$(this).closest('tr').remove();

        });


   var i=0;
var a=[];
var b=[];
var c=[];
var d=[];
var pageupdate=[];
var pagedelete=[];
var acheckbox=[];
var bcheckbox=[];



//after register 
//var i;


          $(document).ready(function(){
        $("#register").click(function(){

        i++;
        
           a[i]=$('input[name="name"]').val();
           console.log(a[i]);
        
        b[i]=$('input[name="email"]').val();
        
         d[i]=$('input[name="username"]').val();
        
        c[i]=$('input[name="gen"]:checked').val();
      //  $("#val4").val(d);
      checking();

      acheckbox[i]=a1;
      bcheckbox[i]=b1;
      console.log(acheckbox[i]);
      console.log(bcheckbox[i]);
      var btn="update"+i;
      //console.log(btn);

            var markup = "<tr>"+"<td>"+a[i]+"</td><td>" + b[i] + "</td><td>" +  c[i]+ "</td><td>"+acheckbox[i]+"</td><td> "+bcheckbox[i]+"</td><td>"+d[i]+"</td><td> <button type='button' name='pagedelete' id='pagedelete' class='pagedelete'>Delete Row</button> </td><td>"+"</td><td> <button type='button' name="+btn+"  id="+btn+" class='update'>Edit Row</button> </td></tr>";
            $("table tbody").append(markup);

console.log('Name: '+a[i] +'   Email:   '+b[i]+'    Gender: '+c[i]+'      UserName:  '+d[i]);

        });

    });
    
// for delete button
    $(document).on('click', '#pagedelete', function () { // <-- changes
    // alert("aa");
     $(this).closest('tr').remove();
     return false;
 });
    
    </script>

		 <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
   
	</body>
</html>
